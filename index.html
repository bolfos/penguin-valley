<!DOCTYPE html>
<html lang="ro">
<head>
<meta charset="UTF-8">
<title>Penguin Farmer</title>

<style>
body{
 margin:0;
 font-family:Arial,Helvetica,sans-serif;
 background:#b3e5fc;
}
#top{
 background:#0d47a1;
 color:white;
 padding:10px;
 display:flex;
 justify-content:space-between;
}
#layout{display:flex;height:calc(100vh - 50px)}
#menu{
 width:200px;
 background:#bbdefb;
 padding:10px;
}
#menu button{
 width:100%;
 margin-bottom:8px;
 padding:10px;
 border:none;
 border-radius:12px;
 background:#1976d2;
 color:white;
 cursor:pointer;
}
#content{flex:1;padding:12px}

.hidden{display:none}

/* FARM */
#farm{
 display:grid;
 grid-template-columns:repeat(8,72px);
 gap:8px;
 justify-content:center;
}
.tile{
 width:72px;
 height:72px;
 border-radius:14px;
 background-size:cover;
 display:flex;
 align-items:center;
 justify-content:center;
}
.time{
 background:rgba(0,0,0,.6);
 color:white;
 padding:2px 6px;
 border-radius:8px;
 font-size:12px;
}

/* MARKET */
.marketItem{
 background:white;
 padding:10px;
 border-radius:12px;
 margin-bottom:8px;
 display:flex;
 justify-content:space-between;
}
</style>
</head>

<body>

<div id="top">
 <div>üêß Penguin Farmer</div>
 <div id="stats"></div>
</div>

<div id="layout">
 <div id="menu">
  <button onclick="show('farmView')">üåæ FermƒÉ</button>
  <button onclick="show('marketView')">üè™ Market</button>
 </div>

 <div id="content">
  <div id="farmView">
   <h3>Alege culturƒÉ</h3>
   <button onclick="selectCrop('carrot')">Morcov</button>
   <button onclick="selectCrop('cabbage')">VarzƒÉ</button>
   <button onclick="selectCrop('flower')">Floare</button>
   <div id="farm"></div>
  </div>

  <div id="marketView" class="hidden">
   <h2>Market MMO</h2>
   <div id="market"></div>
  </div>
 </div>
</div>

<script>
/* GAME STATE */
let money=30;
let selectedCrop="carrot";
let tiles={};
let inventory={carrot:0,cabbage:0,flower:0};

const FREE=[18,19,20,26,27,28];
const crops={
 carrot:{img:"assets/crops/carrot.png",time:5000,cost:1,price:4},
 cabbage:{img:"assets/crops/cabbage.png",time:9000,cost:3,price:10},
 flower:{img:"assets/crops/flower.png",time:15000,cost:5,price:25}
};

/* UI */
function show(id){
 farmView.classList.add("hidden");
 marketView.classList.add("hidden");
 document.getElementById(id).classList.remove("hidden");
}
function statsUpdate(){
 stats.textContent=`üí∞ ${money}`;
}

/* FARM */
function drawFarm(){
 farm.innerHTML="";
 for(let i=0;i<64;i++){
  const t=document.createElement("div");
  t.className="tile";

  if(!FREE.includes(i)){
   t.style.backgroundImage="url('assets/tiles/ice.png')";
  }else if(!tiles[i]){
   t.style.backgroundImage="url('assets/tiles/grass.png')";
   t.onclick=()=>plant(i);
  }else{
   const c=crops[tiles[i].type];
   const r=c.time-(Date.now()-tiles[i].start);
   t.style.backgroundImage=`url('${c.img}')`;
   if(r>0){
    const tm=document.createElement("div");
    tm.className="time";
    tm.textContent=Math.ceil(r/1000)+"s";
    t.appendChild(tm);
   }else{
    t.onclick=()=>harvest(i);
   }
  }
  farm.appendChild(t);
 }
}

function selectCrop(c){selectedCrop=c;}
function plant(i){
 const c=crops[selectedCrop];
 if(money<c.cost)return;
 money-=c.cost;
 tiles[i]={type:selectedCrop,start:Date.now()};
 statsUpdate();drawFarm();
}
function harvest(i){
 inventory[tiles[i].type]++;
 delete tiles[i];
 statsUpdate();drawFarm();drawMarket();
}

/* MARKET MMO (simplificat) */
function drawMarket(){
 market.innerHTML="";
 for(const k in inventory){
  market.innerHTML+=`
   <div class="marketItem">
    ${k} x${inventory[k]}
    <button onclick="sell('${k}')">Vinde (${crops[k].price}üí∞)</button>
   </div>`;
 }
}
function sell(k){
 if(inventory[k]<=0)return;
 inventory[k]--;
 money+=crops[k].price;
 statsUpdate();drawMarket();
}

/* START */
statsUpdate();
drawFarm();
drawMarket();
setInterval(drawFarm,1000);
</script>

</body>
</html>
