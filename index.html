<!DOCTYPE html>
<html lang="ro">
<head>
<meta charset="UTF-8">
<title>Penguin Farmer</title>

<style>
body{
 margin:0;
 font-family:Arial;
 background:#b3e5fc;
}
#top{
 background:#0d47a1;
 color:white;
 padding:10px;
 display:flex;
 justify-content:space-between;
}
#layout{display:flex;height:calc(100vh - 50px)}
#menu{
 width:200px;
 background:#bbdefb;
 padding:10px;
}
#menu button{
 width:100%;
 margin-bottom:8px;
 padding:10px;
 border:none;
 border-radius:12px;
 background:#1976d2;
 color:white;
 cursor:pointer;
}
#content{flex:1;padding:12px}
.hidden{display:none}

/* FARM */
#farm{
 display:grid;
 grid-template-columns:repeat(10,70px);
 gap:8px;
 justify-content:center;
}
.tile{
 width:70px;height:70px;
 border-radius:14px;
 display:flex;
 align-items:center;
 justify-content:center;
 position:relative;
 background:#cfd8dc;
 background-size:cover;
}
.free{background:#a5d6a7}
.locked{background:#90a4ae}
.time{
 position:absolute;
 bottom:4px;
 right:4px;
 font-size:11px;
 background:rgba(0,0,0,.6);
 color:white;
 padding:2px 6px;
 border-radius:6px;
}

/* BUILDINGS */
.build{
 width:90px;
 height:90px;
 background:#ffe082;
 border-radius:16px;
 display:inline-flex;
 align-items:center;
 justify-content:center;
 margin:8px;
 cursor:pointer;
}

/* MARKET */
.marketItem{
 background:white;
 padding:10px;
 border-radius:12px;
 margin-bottom:8px;
 display:flex;
 justify-content:space-between;
}
</style>
</head>

<body>

<div id="top">
 <div>ğŸ§ Penguin Farmer</div>
 <div id="stats"></div>
</div>

<div id="layout">
 <div id="menu">
  <button onclick="show('farmView')">ğŸŒ¾ FermÄƒ</button>
  <button onclick="show('marketView')">ğŸª Market</button>
  <button onclick="show('buildView')">ğŸ—ï¸ ClÄƒdiri</button>
 </div>

 <div id="content">
  <div id="farmView">
   <h3>Culturi</h3>
   <button onclick="selectCrop('carrot')">Morcov</button>
   <button onclick="selectCrop('cabbage')">VarzÄƒ</button>
   <button onclick="selectCrop('flower')">Floare</button>
   <div id="farm"></div>
  </div>

  <div id="marketView" class="hidden">
   <h2>Market</h2>
   <div id="market"></div>
  </div>

  <div id="buildView" class="hidden">
   <h2>ClÄƒdiri</h2>
   <div id="buildings"></div>
  </div>
 </div>
</div>

<script>
let money=40;
let selectedCrop="carrot";
let tiles={};
let inventory={carrot:0,cabbage:0,flower:0};
let unlocked=20; // cÃ¢te tile-uri sunt deblocate

const crops={
 carrot:{img:"assets/crops/carrot.png",time:4000,cost:1,price:4},
 cabbage:{img:"assets/crops/cabbage.png",time:8000,cost:3,price:10},
 flower:{img:"assets/crops/flower.png",time:14000,cost:5,price:25}
};

const buildingsData={
 barn:{name:"Depozit",cost:30},
 market:{name:"Market",cost:50}
};
let buildings={barn:0,market:0};

function show(id){
 ["farmView","marketView","buildView"].forEach(v=>{
  document.getElementById(v).classList.add("hidden");
 });
 document.getElementById(id).classList.remove("hidden");
}

function updateStats(){
 stats.textContent=`ğŸ’° ${money}`;
}

/* FARM */
function drawFarm(){
 farm.innerHTML="";
 for(let i=0;i<100;i++){
  const t=document.createElement("div");
  t.className="tile";

  if(i>=unlocked){
   t.classList.add("locked");
   t.textContent="â„ï¸";
   t.onclick=()=>unlockTile(i);
  }else if(!tiles[i]){
   t.classList.add("free");
   t.textContent="+";
   t.onclick=()=>plant(i);
  }else{
   const c=crops[tiles[i].type];
   const r=c.time-(Date.now()-tiles[i].start);
   t.style.backgroundImage=`url('${c.img}')`;
   if(r>0){
    const tm=document.createElement("div");
    tm.className="time";
    tm.textContent=Math.ceil(r/1000)+"s";
    t.appendChild(tm);
   }else{
    t.textContent="âœ”";
    t.onclick=()=>harvest(i);
   }
  }
  farm.appendChild(t);
 }
}

function unlockTile(i){
 if(money<10)return;
 money-=10;
 unlocked++;
 updateStats();
 drawFarm();
}

function selectCrop(c){selectedCrop=c;}
function plant(i){
 const c=crops[selectedCrop];
 if(money<c.cost)return;
 money-=c.cost;
 tiles[i]={type:selectedCrop,start:Date.now()};
 updateStats();drawFarm();
}
function harvest(i){
 inventory[tiles[i].type]++;
 delete tiles[i];
 updateStats();drawFarm();drawMarket();
}

/* MARKET */
function drawMarket(){
 market.innerHTML="";
 for(const k in inventory){
  market.innerHTML+=`
   <div class="marketItem">
    ${k} x${inventory[k]}
    <button onclick="sell('${k}')">Vinde ${crops[k].price}ğŸ’°</button>
   </div>`;
 }
}
function sell(k){
 if(inventory[k]<=0)return;
 inventory[k]--;
 money+=crops[k].price;
 updateStats();drawMarket();
}

/* BUILDINGS */
function drawBuildings(){
 buildings.innerHTML="";
 for(const k in buildingsData){
  buildings.innerHTML+=`
   <div class="build" onclick="upgrade('${k}')">
    ${buildingsData[k].name}<br>lvl ${buildings[k]}
   </div>`;
 }
}
function upgrade(k){
 if(money<buildingsData[k].cost)return;
 money-=buildingsData[k].cost;
 buildings[k]++;
 updateStats();drawBuildings();
}

/* START */
updateStats();
drawFarm();
drawMarket();
drawBuildings();
setInterval(drawFarm,1000);
</script>

</body>
</html>
